<div class="background-script">
  <div class="container script-show justify-content-left">
    <div class="row">
      <div class="col-9">
        <div class="storylab-container-dark p-3" data-controller="editable-text" >
          <form data-controller="clipboard">
            <div>
              <p class="script-category"><%= @script.blueprint.name %></p>
            </div>
            <div>
              <h2 class="script-title"><%= @script.topic %></h2>
            </div>
            <div class="grey">
              <div class="script-body" data-controller="replace" data-replace-script-id-value="<%= @script.id %>" data-replace-target="scriptBody">
                <%= render 'scripts/script_body', script: @script %>
              </div>
              <div class="button-submit">
                <button type="submit" class="btn btn-primary" data-action="editable-text#enableEditMode" data-editable-text-target="editButton">Edit</button>
                <button type="button" class="btn btn-primary" data-action="clipboard#copy" data-clipboard-target="trigger"><i class="fa-regular fa-copy"></i></button>
                <%= link_to location_path(@script.location) do %>
                  <button type="button" class="btn btn-primary">Recording locations</button>
                <% end %>
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="col-3">
        <div class="card-options" style="width: 20rem;">
          <div class="container-options p-3">
            <h2>Options</h2>
            <br>
            <%= simple_form_for [@script], url: script_path(@script) do |f| %>
              <!-- Duration Slider -->
              <div class="form-group">
                <%= f.label :duration, "Duration (in minutes)", class: "option-label" %>
                <br>
                <br>
                <div class="slider-container">
                  <%= f.input_field :duration, type: 'range', list: 'tickmarks', step: 1, min: 3, max: 12, value: 3, class: 'form-control-range' %>
                  <datalist id="tickmarks">
                    <option value="3">
                      <option value="5">
                        <option value="8">
                          <option value="10">
                            <option value="12">
                            </datalist>
                            <div class="slider-labels">
                              <span>3</span>
                              <span>5</span>
                              <span>8</span>
                              <span>10</span>
                              <span>12</span>
                            </div>
                          </div>
                        </div>
                        <!-- Tone Radio Buttons -->
                        <br>
                        <div class="form-group">
                          <%= f.label :tone, "Tone", class: "option-label" %>
                          <br>
                          <br>
                          <div class="radio-columns">
                            <div class="form-check">
                              <%= f.radio_button :tone, "1", class: 'form-check-input' %>
                              <%= f.label :tone, "Cheerful", value: "1", class: 'form-check-label' %>
                            </div>
                            <div class="form-check">
                              <%= f.radio_button :tone, "2", class: 'form-check-input' %>
                              <%= f.label :tone, "Educational", value: "2", class: 'form-check-label' %>
                            </div>
                            <div class="form-check">
                              <%= f.radio_button :tone, "3", class: 'form-check-input' %>
                              <%= f.label :tone, "Emotional", value: "3", class: 'form-check-label' %>
                            </div>
                            <div class="form-check">
                              <%= f.radio_button :tone, "4", class: 'form-check-input' %>
                              <%= f.label :tone, "Humorous", value: "4", class: 'form-check-label' %>
                            </div>
                            <div class="form-check">
                              <%= f.radio_button :tone, "5", class: 'form-check-input' %>
                              <%= f.label :tone, "Inspirational", value: "5", class: 'form-check-label' %>
                            </div>
                            <div class="form-check">
                              <%= f.radio_button :tone, "6", class: 'form-check-input' %>
                              <%= f.label :tone, "Neutral", value: "6", class: 'form-check-label' %>
                            </div>
                            <div class="form-check">
                              <%= f.radio_button :tone, "7", class: 'form-check-input' %>
                              <%= f.label :tone, "Playful", value: "7", class: 'form-check-label' %>
                            </div>
                          </div>
                          <br>
                          <%= f.submit 'regenerate', :class => 'spinner', :id => 'submit-button' %>
                        <% end %>
                      </div>
                    </div>
                    <% @pexels_videos.each do |vid| %>
                      <div class="light-gold-div">
                        <% hd_video = vid.files.find { |file| file.quality == 'sd' } %>
                        <% video_url = hd_video.link %>
                        <%= link_to video_url, target: :_blank do %>
                          <%= video_tag video_url, size: "320x240", controls: false, autoplay: :autoplay, muted: :muted, loop: :loop, class: "rounded-video" %>
                        <% end %>
                      </div>
                    <% end %>
                  </div>
                </div>
              </div>
            </div>
          </div>
